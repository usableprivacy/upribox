# Configuration file for dnsmasq with upribox DNS request filtering.
#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN
#     see https://upribox.readthedocs.io/en/latest/intro.html#customization

# Listen on this specific port instead of the standard DNS port
# (53). Setting this to zero completely disables DNS function,
# leaving only DHCP and/or TFTP.
port=5300

# Never forward addresses in the non-routed address spaces.
bogus-priv

# Resolve DNS requests via local Tor DNS resolver.
server=127.0.0.1#9053

# If you want dnsmasq to listen for DHCP and DNS requests only on
# specified interfaces (and the loopback) give the name of the
# interface (eg eth0) here.
# Or you can specify which interface _not_ to listen on
#except-interface=eth0
interface=lo
interface=eth0
interface=wlan0
interface=tun0

# Localise the queries
localise-queries

# Include another lot of configuration options including the upribox blacklists.
# conf-dir=/etc/dnsmasq.d.ninja
conf-dir=/etc/dnsmasq.d

log-facility={{default_settings.log.general.path}}/{{default_settings.log.dnsmasq_ninja.logfiles.logname}}
no-resolv
